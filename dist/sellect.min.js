!function(){function e(t,i){var e=document.createElement("span"),n=document.createElement("i");e.classList.add("sellect-trigger","sellect-item"),n.classList.add("fa","fa-times","sellect-close-icon"),e.innerHTML=i,e.appendChild(n),t.appendChild(e)}function i(){var t=this;t.options&&(t.originListHTML.addEventListener("click",function(){n.call(t,event.target,t.destinationListHTML)},!1),t.destinationListHTML.addEventListener("click",function(){n.call(t,event.target,t.originListHTML)},!1),t.container.addEventListener("click",function(){o.call(t)},!1),t.arrow.addEventListener("click",function(){(function(){event.stopPropagation(),this.originListHTML.classList.contains("open")?this.originListHTML.classList.remove("open"):this.originListHTML.classList.add("open")}).call(t)},!1),t.options.element.addEventListener("keyup",function(){switch(event.keyCode||event.charCode){case 40:0<t.originListHTML.childNodes.length&&(function(){var t,i=this.originListHTML.getElementsByClassName("active")[0];if(!i)return void((t=s(this.originListHTML.childNodes[0],"down"))&&t.classList.add("active"));if(!i.nextElementSibling)return;(t=s(i.nextElementSibling,"down"))&&(t.classList.add("active"),i.classList.remove("active"))}.call(t),function(){var t=this,i=t.originListHTML.getElementsByClassName("active")[0];if(!i)return;if(i.offsetTop>=t.originListHTML.clientHeight+i.clientHeight)return t.originListHTML.scrollTop=t.originListHTML.scrollTop+i.clientHeight,!0}.call(t));break;case 38:0<t.originListHTML.childNodes.length&&(function(){var t,i=this.originListHTML.getElementsByClassName("active")[0];if(!i||!i.previousElementSibling)return;(t=s(i.previousElementSibling))&&(t.classList.add("active"),i.classList.remove("active"))}.call(t),function(){var t=this,i=t.originListHTML.getElementsByClassName("active")[0];if(!i)return;if(i.offsetTop<=t.originListHTML.scrollHeight-t.originListHTML.clientHeight+i.clientHeight)return t.originListHTML.scrollTop=t.originListHTML.scrollTop-i.clientHeight,!0}.call(t));break;case 13:(function(){var t=this.originListHTML.getElementsByClassName("active")[0];n.call(this,t,this.destinationListHTML)}).call(t);break;default:(function(){var i=event.target.value;this.originListHTML.childNodes.forEach(function(t){-1!==t.innerText.indexOf(i)?t.style.display="inherit":t.style.display="none"})}).call(t)}},!1),t.options.element.addEventListener("keydown",function(){(function(){var t=event.keyCode||event.charCode,i=event.target.value;if(8===t&&""===i&&0<this.destinationListHTML.childNodes.length){var e=this.destinationListHTML.lastElementChild;e.click()}}).call(t)},!1),t.options.element.addEventListener("focus",function(){o.call(t)},!1),window.addEventListener("click",function(){(function(){event.stopPropagation(),this.originListHTML.classList.contains("open")&&this.originListHTML.classList.remove("open")}).call(t)},!1))}function n(t,i){var e,n=this;t&&(e=t.classList.contains("sellect-trigger")?t:t.parentNode,event.stopPropagation(),!e||-1<e.className.indexOf("sellected-list")||-1<e.className.indexOf("sellect-list")||(e.parentNode.removeChild(e),i.appendChild(e),e.classList.remove("active"),n.options.element.value="",n.options.element.focus(),function(t){var i=document.createEvent("Event");i.initEvent(t),this.options.element.dispatchEvent(i)}.call(n,"keyup"),n.options.originList=[],n.options.destinationList=[],n.options.originList=n.getUnselected(),n.options.destinationList=n.getSelected(),n.options.onInsert&&n.options.onInsert(event,e),n.options.onRemove&&n.options.onRemove(event,e)))}function s(t,i){if("down"===i)for(;null===t.offsetParent&&t.nextElementSibling;)t=t.nextElementSibling;else for(;null===t.offsetParent&&t.previousElementSibling;)t=t.previousElementSibling;return null!==t.offsetParent&&t}function o(){event.stopPropagation(),this.originListHTML.classList.contains("open")||(this.options.element.focus(),this.originListHTML.classList.add("open"))}this.sellect=function(t,i){return new _Sellect(t,i)},this._Sellect=function(t,i){this.container=document.createElement("div"),this.originListHTML=document.createElement("div"),this.destinationListHTML=document.createElement("div"),this.arrow=document.createElement("i");var e={element:"object"==typeof t?t:document.querySelector(t),originList:[],destinationList:[]};t&&"object"==typeof i&&(this.options=function(t,i){var e;for(e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t}(e,i))},_Sellect.prototype.init=function(){var t=this;t.options&&(t.options.destinationList.forEach(function(i){t.options.originList=t.options.originList.filter(function(t){return t!==i})}),t.options.element.setAttribute("class","sellect-element"),t.container.setAttribute("class","sellect-container"),t.originListHTML.setAttribute("class","sellect-origin-list"),t.destinationListHTML.setAttribute("class","sellect-destination-list"),t.arrow.setAttribute("class","fa fa-chevron-down sellect-arrow-icon")),function(){var i=this;i.options&&(i.options.originList.forEach(function(t){e(i.originListHTML,t)}),i.options.destinationList.forEach(function(t){e(i.destinationListHTML,t)}),i.options.element.parentNode.insertBefore(i.container,i.options.element),i.container.appendChild(i.destinationListHTML),i.container.appendChild(i.options.element),i.container.appendChild(i.originListHTML),i.container.appendChild(i.arrow))}.call(t),i.call(t)},_Sellect.prototype.getSelected=function(){var t=this;t.options.destinationList=[];for(var i=0;i<t.destinationListHTML.childNodes.length;i++)t.options.destinationList.push(t.destinationListHTML.childNodes[i].textContent);return t.options.destinationList},_Sellect.prototype.getUnselected=function(){var t=this;t.options.originList=[];for(var i=0;i<t.originListHTML.childNodes.length;i++)t.options.originList.push(t.originListHTML.childNodes[i].textContent);return t.options.originList}}();